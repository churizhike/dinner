<!DOCTYPE HTML>
<html>
<head>
<title>Home</title>
<link href="../css/bootstrap.css" rel='stylesheet' type='text/css' />
<link href="../css/bootstrap.css" rel='stylesheet' type='text/css' />
<script src="../js/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="../js/jquery.min.js"></script>
<!-- Custom Theme files -->
<link href="../css/style.css" rel='stylesheet' type='text/css' />
<!-- Custom Theme files -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
</script>
<!----webfonts---->
<link href='http://fonts.googleapis.com/css?family=Exo+2:100,200,300,400,500,600,700,800,900' rel='stylesheet' type='text/css'>
</head>
<body>
	<div class="header">
		<div class="container">
		  <div class="header_top">
			<ul class="phone">
				<li class="phone_left"><i class="mobile"> </i><span>1-200-346-2986</span></li>
				<!-- <li class="phone_right">Free Ground Shipping for Products over ￥100</li> -->
				<div class="clearfix"></div>
			</ul>
			<!-- <ul class="social">
				 <li><a href=""> <i class="tw"> </i> </a></li>
				 <li><a href=""><i class="fb"> </i> </a></li>
				 <li><a href=""><i class="rss"> </i> </a></li>
				 <li><a href=""><i class="msg"> </i> </a></li>
				 <div class="clearfix"> </div>
			</ul> -->
			<ul class="account">
				<li>我的账户</a></li>
			</ul>
			<ul class="shopping_cart" style="float: right;">
			   <a href="#"><li class="shop_left"><i class="cart"> </i><span>合计</span></li></a>
			   <a href="#"><li class="shop_right"><span>￥</span><span>0.00</span></li></a>
			   <div class="clearfix"> </div>
			</ul>
			<div class="clearfix"></div>
		</div>
		<div class="header_bottom">
		  <div class="header_nav">
      		<div class="logo">
				<a><img src="../images/logo.png" alt=""/><br></a>
			 </div>
			 <nav class="navbar navbar-default menu" role="navigation"><h3 class="nav_right"><a href="index.html"><img src="../images/logo.png" class="img-responsive" alt=""/></a></h3>
			  <div class="container-fluid">
			    <!-- Brand and toggle get grouped for better mobile display -->
			    <div class="navbar-header">
			      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
			        <span class="sr-only">Toggle navigation</span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			      </button>
			    </div>
				<!-- Collect the nav links, forms, and other content for toggling -->
			    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			      <ul class="nav navbar-nav menu1">
			      	<li class="active"><a href="user.html">菜单</a></li>
			        <li><a href="order.html">订单</a></li>
			        <!-- <li><a href="products.html">食物</a></li> -->
			        <!-- <li><a href="store.html">Locate Store</a></li>
			        <li><a href="club.html">Fan Club</a></li> -->
			        <li><a href="business.html">商家</a></li>
		          </ul>
		          <ul class="login">
		          	<a href="account.html"><li class="login_top"><i class="sign"> </i><span>登出</span></li></a>
		            <!-- <a href="register.html"><li class="login_bottom"><i class="register"> </i><span>Register</span></li></a> -->
		          </ul>
			      <div class="clearfix"></div>
			    </div><!-- /.navbar-collapse -->
			  </div><!-- /.container-fluid -->
			</nav>
            <div class="clearfix"></div>
           </div>
            <!-- <div class="search">
			  <input type="text" class="text" value="Enter Product Details" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Enter Product Details';}">
			  <input type="submit" value="Search">
			</div> -->
		 </div>  
		</div>
	</div>
    <div class="main">
		<div class="container">
		   <div class="row content" style="margin-top: 30px;">
		   	<div class="col-md-3 content_top">
		   	   <div class="category_box">
		   	  	<h3 class="cate_head">点菜</h3>
		   	     <ul class="category">
					<li class="activeNav"><a href="./dinner/jiaozi.html" style="color: aqua;">饺子类</a></li>
					<li><a href="./dinner/noodles.html">面类</a></li>
			   	  	<li><a href="./dinner/gaifan.html">盖饭类</a></li>
			   	  	<li><a href="./dinner/kaochuan.html">烤串类</a></li>
			   	  	<li><a href="./dinner/xiaochao.html">家常小炒类</a></li>
			   	  	<li><a href="./dinner/yuxia.html">鱼虾类</a></li>
			   	  	<li><a href="./dinner/tang.html">汤类</a></li>
			   	  	<li><a href="./dinner/ganguo.html">干锅系列</a></li>
			   	  	<li><a href="./dinner/jiushuai.html">酒水饮料</a></li>
		   	     </ul>
		   	   </div>
		   	   <!-- <ul class="product_reviews">
		   	   	 <h3><i class="arrow"> </i><span>支付方式</span></h3>
		   	   	 <img src="../images/pay1.jpeg" class="img-responsive" alt=""/>
		   	   </ul> -->
		   	</div>
		   	<div class="col-md-9">
				<div style="height: 30px;width: 100%;margin-bottom: 30px;">
					<button type="button" class="btn btn-primary btn-lg" style="float: right;" data-toggle="modal" data-target="#myModal">
						上传菜品
					</button>
				</div>
				<!-- Button trigger modal -->

				
				<!-- Modal -->
				<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
					<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title" id="myModalLabel">上传菜品<span style="font-size: 12px;">（当前分类：饺子）</span></h4>
							<h4></h4>
						</div>
						<div class="modal-body">
							<div class="input-group">
								<span class="input-group-addon" id="basic-addon2">菜品名称</span>
								<input type="text" class="form-control" id="" placeholder="Recipient's username" aria-describedby="basic-addon2">
							</div>
							<div class="input-group" style="margin-top: 20px;">
								<span class="input-group-addon" id="basic-addon2">菜品价格</span>
								<input type="text" class="form-control" placeholder="Recipient's username" aria-describedby="basic-addon2">
							</div>
							<!-- <button type="button" class="btn btn-default" style="margin-top: 20px;">上传照片</button>
							<div class="form-group">
								<label for="exampleInputFile">File input</label>
								<input type="file" id="exampleInputFile">
								<p class="help-block">Example block-level help text here.</p>
							</div> -->
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
							<button type="button" class="btn btn-primary" data-dismiss="modal" onclick="closeModal(this)">上传</button>
						</div>
					</div>
					</div>
				</div>
		   	    <div class="tlinks">Collect from <a href="http://www.cssmoban.com/"  title="网站模板">网站模板</a></div>
		   	    <div class="row content_bottom">
			   	   <div class="col-md-3 content_top_box">
			   	   	<div class="content_box">
			   	   	  	<div class="view view-fifth">
			   	   	     <img src="../images/p1.jpg" class="img-responsive" alt=""/>
				   	   	 <div class="content_box-grid">
				   	   	  <p class="name m_1">马家酸汤牛肉水饺</p>
				   	   	  <div class="price">价格:￥
							<span class="actual">12.00</span>
						  </div>
						  <div class="but1" style="margin-top: 10px;">
							<div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
								<div class="modal-dialog" role="document">
									<div class="modal-content">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
											<h4 class="modal-title" id="myModalLabel">本菜品<span style="font-size: 12px;">（当前分类：饺子）</span></h4>
											<h4></h4>
										</div>
										<div class="modal-body">
											<div class="input-group">
												<span class="input-group-addon" id="basic-addon2">菜品名称</span>
												<input type="text" class="form-control" id="" placeholder="Recipient's username" aria-describedby="basic-addon2">
											</div>
											<div class="input-group" style="margin-top: 20px;">
												<span class="input-group-addon" id="basic-addon2">菜品价格</span>
												<input type="text" class="form-control" placeholder="Recipient's username" aria-describedby="basic-addon2">
											</div>
											<!-- <button type="button" class="btn btn-default" style="margin-top: 20px;">上传照片</button>
											<div class="form-group">
												<label for="exampleInputFile">File input</label>
												<input type="file" id="exampleInputFile">
												<p class="help-block">Example block-level help text here.</p>
											</div> -->
										</div>
										<div class="modal-footer">
											<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
											<button type="button" class="btn btn-primary" data-dismiss="modal" onclick="editDinner(this)">确定</button>
										</div>
									</div>
								</div>
							</div>
							<a href="#" style="margin-left: 0px;color: #2ca1d2;" data-toggle="modal" data-target="#myModal1" onclick="clickEdit(this)">编辑</a>
							<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
								<div class="modal-dialog modal-sm" role="document">
									<div class="modal-content">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
											<h4 class="modal-title" id="myModalLabel">提示：</span></h4>
											<h4></h4>
										</div>
										<div class="modal-body">
											<div class="input-group">
												<span class="" id="basic-addon2">确认删除？</span>
											</div>
										</div>
										<div class="modal-footer" style="margin-top: 0;">
											<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
											<button type="button" class="btn btn-primary" data-dismiss="modal" onclick="deleteDinner(this)">确定</button>
										</div>
									</div>
								</div>
							</div>
							<a href="#" style="margin-left: 20px;" data-toggle="modal" data-target="#myModal2">删除</a>
						  </div>
			             </div>
				   	   	</div>
			   	   	  </div>
			   	   </div>
			   	   <div class="col-md-3 content_top_box">
			   	   	  <div class="content_box">
			   	   	  	<div class="view view-fifth">
			   	   	     <img src="../images/p4.jpg" class="img-responsive" alt=""/>
				   	   	 <div class="content_box-grid">
				   	   	  <p class="m_1">香菇肉片盖饭</p>
				   	   	  <div class="price">价格:￥
							<span class="actual">12.00</span>
						  </div>
						  <div class="but1" style="margin-top: 10px;">
							<a href="#" style="margin-left: 0px;color: #2ca1d2;" onclick="clickEdit(this)">编辑</a>
							<a href="#" style="margin-left: 20px;" onclick="clickBuy(this)">删除</a>
						  </div>
						 </div>
						</div>
			   	   	   </a>
			   	   	  </div>
			   	   </div>
			   	   <div class="col-md-3 content_top_box">
			   	   	 <div class="content_box">
			   	   	  	<div class="view view-fifth">
			   	   	     <img src="../images/p3.jpg" class="img-responsive" alt=""/>
				   	   	 <div class="content_box-grid">
				   	   	  <p class="m_1">烤香肠</p>
				   	   	  <div class="price">价格:￥
							<span class="actual">12.00</span>
						  </div>
						  <div class="but1" style="margin-top: 10px;">
							<a href="#" style="margin-left: 0px;color: #2ca1d2;" onclick="clickEdit(this)">编辑</a>
							<a href="#" style="margin-left: 20px;" onclick="clickBuy(this)">删除</a>
						  </div>
			             </div>
				   	   	</div>
			   	   	   </a>
			   	   	  </div>
			   	   </div>
			   	   <div class="col-md-3 content_top_box">
			   	   	   <div class="content_box">
			   	   	  	<div class="view view-fifth">
			   	   	     <img src="../images/p2.jpg" class="img-responsive" alt=""/>
				   	   	 <div class="content_box-grid">
				   	   	  <p class="m_1">泡椒烤鱼</p>
				   	   	  <div class="price">价格:￥
							<span class="actual">12.00</span>
						  </div>
						  <div class="but1" style="margin-top: 10px;">
							<a href="#" style="margin-left: 0px;color: #2ca1d2;" onclick="clickBuy(this)">编辑</a>
							<a href="#" style="margin-left: 20px;" onclick="clickBuy(this)">删除</a>
						  </div>
				   	   	</div>
			   	   	   </a>
			   	   	  </div>
			   	   </div>
			   </div>
		    </div>
		   </div>
		</div>
	</div>
</body>
<script>
	function clickBuy(obj) {
		var numInput = obj.parentElement.getElementsByClassName('num')[0].innerHTML
		var price = obj.parentElement.parentElement.getElementsByClassName('actual')[0].innerHTML
		var countInput = document.getElementsByClassName('shop_right')[0].getElementsByTagName('span')[1]
		var count = numInput * price
		countInput.innerHTML = Number(countInput.innerHTML) + count + '.00'
	}
	function clickSub (obj) {
		var numInput = obj.parentElement.getElementsByClassName('num')[0]
		console.log(numInput.innerHTML)
		if (Number(numInput.innerHTML) > 0) {
			numInput.innerHTML = numInput.innerHTML - 1
		}
	}
	function clickAdd (obj) {
		var numInput = obj.parentElement.getElementsByClassName('num')[0]
		numInput.innerHTML++
	}
	$('#myModal').modal({
		keyboard: true
	})
	function closeModal(obj) {
		alert('菜品上传成功')
		var dinnerName = document.getElementsByClassName('modal-body')[0].getElementsByTagName('input')[0]
		var dinnerPrice = document.getElementsByClassName('modal-body')[0].getElementsByTagName('input')[1]
		console.log(dinnerName.value, dinnerPrice.value, dinnerPrice)
		var dinnerHtml = $("<div class='col-md-3'><div class='content_box'><div class='view view-fifth'><img src='../images/p1.jpg' class='img-responsive'/><div class='content_box-grid'><p class='m_1'>"+dinnerName.value+"</p><div class='price'>价格:￥<span class='actual'>"+dinnerPrice.value+".00</span></div><div class='but1' style='margin-top: 10px;'><span class='glyphicon glyphicon-minus' aria-hidden='true' style='font-size: 22px;cursor: pointer;'' onclick='clickSub(this)'></span><span class='num'>0</span><span class='glyphicon glyphicon-plus' style='font-size: 22px;cursor: pointer;' aria-hidden='true' onclick='clickAdd(this)'></span><a href='#' style='margin-left: 20px;' onclick='clickBuy(this)'>立即购买</a></div></div></div></div></div>")
		dinnerHtml.appendTo($('#content_bottom'))
		var a = $('<div>prepend添加的节点</div>')
		dinnerHtml.appendTo(document.getElementsByClassName('content_bottom')[0])
		console.log(dinnerHtml)
	}
	function clickEdit(obj) {
		obj.parentElement.getElementsByClassName('modal-body')[0].getElementsByTagName('input')[0].value = '马家酸汤牛肉水饺'
		obj.parentElement.getElementsByClassName('modal-body')[0].getElementsByTagName('input')[1].value = 12
		console.log(obj)
	}
	function editDinner(obj) {
		const editName = obj.parentElement.parentElement.getElementsByClassName('modal-body')[0].getElementsByTagName('input')[0].value
		const parentBox = obj.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement
		console.log(editName, obj.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.getElementsByClassName('name')[0])
		parentBox.getElementsByClassName('name')[0].innerHTML = obj.parentElement.parentElement.getElementsByClassName('modal-body')[0].getElementsByTagName('input')[0].value
		parentBox.getElementsByClassName('actual')[0].innerHTML = obj.parentElement.parentElement.getElementsByClassName('modal-body')[0].getElementsByTagName('input')[1].value + '.00'
	}
	function handleList() {
		const apiList = [
			{
				name: '辣椒炒肉',
				price: 13
			},
			{
				name: '辣椒炒鸡蛋',
				price: 13
			}
		]
	}
</script>
<style>
	.content_top_box {
		margin-bottom: 10px;
	}
	.content_box-grid {
		padding: 1em 1em;
	}
	.activeNav {
		color: #2ca1d2;
	}
</style>
</html>

